(function(e){function t(t){for(var r,o,s=t[0],i=t[1],l=t[2],p=0,b=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/tax_modal_card/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1429:function(e,t,n){},"1c3f":function(e,t,n){"use strict";n("e677")},"2e93":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var s=Object(r["j"])("Card");return a.showModal?(Object(r["h"])(),Object(r["c"])(s,{key:1,onClose:t[2]||(t[2]=function(e){return a.showModal=!1})})):(Object(r["h"])(),Object(r["c"])("button",{key:0,class:"btn btn_size_s",onClick:t[1]||(t[1]=function(e){return a.showModal=!0})},"Налоговый вычет"))}var a={id:"popup",class:"popup"},o={class:"popup__content"},s={class:"popup__body"},i=Object(r["g"])("h3",{class:"popup__title"},"Налоговый вычет",-1),l=Object(r["g"])("p",{class:"popup__text"},"Используйте налоговый вычет чтобы погасить ипотеку досрочно. Размер налогового вычета составляет не более 13% от своего официального годового дохода.",-1),u={key:0,class:"list"},p=Object(r["e"])('<div class="choice"><div class="choice__text">Что уменьшаем?</div><div class="buttons"><label><input type="radio" name="radio" checked><div class="choice__payment box"><span>Платёж</span></div></label><label><input type="radio" name="radio"><div class="choice__period box"><span>Срок</span></div></label></div></div>',1),b=Object(r["g"])("button",{class:"btn btn_size_xxl"},"Добавить",-1);function f(e,t,n,c,f,d){var h=Object(r["j"])("Form");return Object(r["h"])(),Object(r["c"])("div",a,[Object(r["g"])("div",o,[Object(r["g"])("div",s,[i,l,Object(r["g"])(h,{onCreate:d.createSchedule},null,8,["onCreate"]),e.payments.length?(Object(r["h"])(),Object(r["c"])("p",u,"Итого можете внести в качестве досрочных:")):Object(r["d"])("",!0),(Object(r["h"])(!0),Object(r["c"])(r["a"],null,Object(r["i"])(e.payments,(function(e,t){return Object(r["h"])(),Object(r["c"])("div",{key:t,class:"list__item"},[Object(r["g"])("input",{type:"checkbox",class:"list__checkbox",id:t},null,8,["id"]),Object(r["g"])("label",{for:t,class:"list__label"},[Object(r["f"])(Object(r["l"])(d.formatter(e))+" рублей   ",1),Object(r["g"])("span",null," в "+Object(r["l"])(d.getOrdinalNum(t+1))+" год ",1)],8,["for"])])})),128)),p]),b,Object(r["g"])("button",{class:"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})})])])}n("b0c0");var d=Object(r["g"])("label",null,"Ваша зарплата в месяц",-1),h=Object(r["g"])("button",{class:"form__btn",type:"submit"},"Рассчитать",-1);function m(e,t,n,c,a,o){var s=Object(r["k"])("focus");return Object(r["h"])(),Object(r["c"])("form",{class:"form",onSubmit:t[2]||(t[2]=Object(r["o"])((function(e){return o.createPayments()}),["prevent"]))},[Object(r["g"])("div",{class:["form__control",{invalid:a.errors.name}]},[d,Object(r["n"])(Object(r["g"])("input",{class:"form__input no-spinner","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.salary=e}),placeholder:"Введите данные",type:a.isChange?"text":"number"},null,8,["type"]),[[r["m"],a.salary,void 0,{lazy:!0}],[s]]),Object(r["g"])("small",null,Object(r["l"])(a.errors.name),1)],2),h],32)}var O=n("53ca"),j={name:"Form",data:function(){return{salary:"",payments:[],errors:{name:null},isChange:!1}},methods:{formIsValid:function(){var e=!0;return 0===this.salary.length?(this.errors.name="Поле обязательно для заполнения",e=!1):this.salary<6e3?(this.errors.name="Минимальное значение не менее 6000",e=!1):this.errors.name=null,e},createPayments:function(){if(this.formIsValid()){for(var e=2e6,t=26e5,n=12,r=.13,c=this.salary*n*r,a=t<e?t*r:26e4,o=Math.ceil(a/c),s=1;s<=o;s++)if(s==o){var i=a%c;this.payments.push(i)}else this.payments.push(c);this.create(),console.log(Object(O["a"])(this.isChange)),console.log(Object(O["a"])(this.salary))}},create:function(){this.$emit("create",{payments:this.payments}),this.isChange=!0,this.payments=[]}},directives:{focus:{mounted:function(e){e.focus()}}}};n("9b55");j.render=m;var y=j,v={name:"Card",data:function(){return{payments:""}},components:{Form:y},methods:{createSchedule:function(e){this.payments=e.payments},formatter:function(e){return new Intl.NumberFormat("ru-RU").format(e)},getOrdinalNum:function(e){return e+(1==e||4==e||5==e?"-ый":2==e||6==e||7==e||8==e?"-ой":"-ий")}}};n("1c3f");v.render=f;var _=v,g={name:"App",data:function(){return{showModal:!1}},components:{Card:_}};n("7a7a");g.render=c;var x=g;Object(r["b"])(x).mount("#app")},"7a7a":function(e,t,n){"use strict";n("2e93")},"9b55":function(e,t,n){"use strict";n("1429")},e677:function(e,t,n){}});
//# sourceMappingURL=app.3ee39bdf.js.map